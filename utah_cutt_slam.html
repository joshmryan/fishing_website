<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Doctor Dry Fly - Utah Cutthroat Slam</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-9FBWPJ5ZFQ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-9FBWPJ5ZFQ', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Doctor Dry Fly</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./fishing_landing.html" rel="" target="">
 <span class="menu-text">Fly Fishing in the West</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./adventures_landing.html" rel="" target="">
 <span class="menu-text">Other Adventures</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./fishing_history.html" rel="" target="">
 <span class="menu-text">About and Contact</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Utah Cutthroat Slam</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="bear-river-cutthroatcache-valley" class="level4">
<h4 class="anchored" data-anchor-id="bear-river-cutthroatcache-valley">Bear River Cutthroat–Cache Valley</h4>
<p>In Cache Valley, there are a number of options for catching the Bear River cutthroat as all local waters contain them. The Logan River is the largest river, and most obvious option. It’s a classic western free-stone trout stream, fishable from about early July through early November. In most places, the Logan is no more than knee deep, though there are some larger holes.</p>
<p>Brown trout, and even some brook and rainbow trout also exist in the Logan, but the higher one goes in the canyon, the more likely it is one will catch a cutt. I mentally divide the river into lower, middle, and upper sections. I think of the lower section as from the mouth of the canyon where a small lake exists (locally referred to as “first dam”), to about Card Canyon, where there is a picnic area and turnout on the highway. From there, the middle section flows close to the road in most places in a tight canyon until the road climbs high above the river, referred to as the “dugway.” I’d never heard that term until I moved to Utah, and I’m still not sure what it means, but the road cuts across the face of a mountain and climbs until it once again meets the river. Temple Fork flows into the Logan shortly after the dugway. The upper part of the Logan is my favorite area to fish as the river is usually a little farther away from the road, and the fishing and scenery are good. However, this area probably receives the most pressure, though pressure on the Logan is light compared to most well-known western trout streams.</p>
<p>I almost always fish above about Card Canyon (haven’t had much success lower), and the middle canyon section is mostly brown trout. My experience has been that after the dugway, in the upper section, there are more cutts than browns. The fishing is generally good on drys, especially in mid to late summer. Current regulations prohibit fishing from Red Banks Campground upstream to Idaho until the second weekend in July, though in a good water year the river will be still be blown out by then.</p>
<p>Near the top of the canyon, the Logan River leaves the highway and flows almost due north-south from its headwaters in Idaho. This area is referred to as Franklin Basin, and there is a good forest road that parallels the river in this area with lots of dispersed camping, though it can get crowded. Beaver Creek flows into the Logan from the northeast at the start of Franklin Basin (moving upstream) and the highway flows alongside of it after leaving the mainstem Logan.</p>
<p><img src="fishing_pics/franklin_fall.JPG" class="img-fluid"> Franklin Basin in the fall.</p>
<p>The Logan in Franklin Basin, Beaver Creek, and the Temple Fork are almost excluisvely cutts and have good fishing. I’ve had a lot of success in Franklin Basin, and in Spawn Creek, which meets Temple Fork a mile upstream of Temple Fork’s confluence with the Logan. A short hike up Spawn Creek offers nice beaver ponds, but I sometimes find the fish here can be surprisingly picky. I’ve never seen anyone else fishing Spawn Creek. I’ve had less success in Temple Fork, though I have caught fish in it. A lot of it is pretty brushy, and the more open parts don’t seem to hold a lot of fish, so I generally prefer Spawn Creek. Franklin Basin is also brushy in parts, especially farther upstream, but there are a lot of fish in there.</p>
<p><img src="fishing_pics/spawn_creek.JPG" class="img-fluid"> Beaver ponds on Spawn Creek.</p>
<p>Lower down, Right Hand Fork flows into the Logan from the right hand side of the highway (moving upstream), and is all cutthroats. There is a good forest service road up some of Right Hand Fork, and a campground near the junction of two forest roads. There is also a trail that continues up Right Hand Fork after the road ends, following the creek for about 1.5 to 2 miles. Right Hand Fork seems to be a popular place to catch cutts. There are a few promotional videos online of media personalities and DWR employees talking about the slam and where to catch Bear River cutts, and it often looks like they are in Right Hand Fork.</p>
<p>The creek is separated from the mainstem Logan by a weir built a few years ago to protect it from encroaching browns. Right Hand Fork was then treated in 2013 to kill the browns and replanted with cutts sometime after. When I started fishing it in 2016, it was full of cutts and once I figured out how to deal with the brush, there were days when I caught dozens of fish. Since then, the fish seem to have become a little bit smarter so the fishing does not seem quite as good as it did in 2016 or 2017, although fish densities are very high. The one challenge with Right Hand Fork is that is a very small and brushy stream for much of its course near the road and trail, so it can be difficult to find a spot to cast. Rattlesnakes and moose are hazards.</p>
<p><img src="fishing_pics/RHF_fall.jpg" class="img-fluid"> Right Hand Fork in the fall.</p>
<p>Having said all that about the Logan and its tributaries, I caught my Bear River in Curtis Creek, which flows through Hardware Ranch WMA into the Blacksmith Fork. The Blacksmith Fork is the second largest river in the valley, and the fishing is great in mid-summer. Because it’s smaller, it also clears from runoff a lot earlier than the Logan, making it fishable by mid-June in an average/good water year. Unfortunately, about 90% of the fish in Blacksmith Fork are browns. In fact, the DWR has a bonus limit of four additional brown trout, meaning you can catch and keep eight brown trout per day (as of 2023).</p>
<p>The ratio of cutts to browns in Curtis Creek is better than the mainstem Blacksmith Fork, probably something like 4 to 1 rather than 9 to 1. For my cutt slam, I caught the fish in mid-April as Curtis Creek drains a small area and is probably the first creek in the area to clear from runoff. Rock Creek, which flows into Blacksmith Fork a little lower, also has some cutts and clears relatively early as well. If one drives on the forest road through Hardware Ranch, the road eventually meets Rock Creek again higher up. It’s easy to park near the bridge and fish up the meadow, or move downstream and fish through some smaller meadows and into a small canyon. I’ve done this a few times and caught a lot of fish (mostly browns). The only drawback is that it’s about an hour drive from Logan each way so I don’t fish it that often, though neither does anyone else. In the spring and summer, there is a lot of dispersed camping in the area and people like to use the forest road through Hardware Ranch to see how fast they can drive their side-by-sides.</p>
<p><img src="fishing_pics/blacksmith.JPG" class="img-fluid"> A local enjoying the Blacksmith Fork river.</p>
<p>The other option for a Bear River cutt is Left Hand Fork of the Blacksmith, which flows past a number of campgrounds on Left Hand Fork road. This is one of my favorite places to fish early in the season (before Memorial Day) because it clears early and there are a lot of fish, but it’s almost all browns, in my experience. Unfortunately the quantity of dispersed camping and campgrounds means it is overrun by Memorial Day, and the area is an absolute nightmare during the height of summer. I’ve nearly experienced dog attacks and ATV crashes on Left Hand Fork Road. People seem to enjoy dropping their trailer or tent in a spot and reserving it for the entire summer. The forest service has made some efforts to better organize the dispersed camping and enforce the 14 day stay limit, though as far as I can tell, these efforts do not yet seem to be effective.</p>
<p><img src="fishing_pics/left_hand_fork.JPG" class="img-fluid"> Left Hand Fork of Blacksmith Fork.</p>
<p>If I were trying to catch the Bear River cutt, I’d probably start in the upper Logan or Franklin Basin, and failing that, go to Right Hand Fork. The fishing in the Logan and Franklin Basin is easier because they are bigger waters and there is more room to cast and wade. But, if those two didn’t work for whatever reason, Right Hand Fork is almost a sure thing if you can find a spot to make a cast without spooking the fish or getting tangled in the brush. Spawn Creek is also a good option, but it requires a 15 to 20 minute hike up to the beaver ponds, and there are brooks and browns in addition to cutthroats.</p>
</section>
<section id="yellowstone-cutthroatraft-river-mountains" class="level4">
<h4 class="anchored" data-anchor-id="yellowstone-cutthroatraft-river-mountains">Yellowstone Cutthroat–Raft River Mountains</h4>
<p>This is widely accepted to be the most difficult fish to catch in the Utah slam. For most people, the Raft River Range is the farthest drive, the creeks are tiny, and there isn’t a ton of information on where to catch the fish. Some of the online promotional videos I’ve seen show people fishing water in private land or make only vague references to access points. I couldn’t figure out how to access any of the larger water like the Raft River, so I stuck to the most obvious option: Onemile Creek. There is a forest road that goes up the drainage, and my research seemed to suggest this was the best bet on public land.</p>
<p>When I arrived to the spot where the forest road begins paralleling the creek, there was a jeep parked in a turnout: another guy and his wife also looking to catch the Yellowstone for their slam. From that turnout, they mentioned there is a relatively well-defined hole only a short walk up the creek where they’d brought a fish up. Onemile creek is very small and doesn’t even look like it can hold fish, but unlike a lot of creeks this size in Utah, it wasn’t that brushy. I started downstream of the hole they mentioned, fished up to it, and had absolutely no success. I hooked a shockingly large fish in that hole, got it to the surface and lost it. I made a few more casts, but it was clear the fish wasn’t coming back. I continued fishing up Onemile Creek for a while, and found no signs of life.</p>
<p><img src="fishing_pics/onemile.JPG" class="img-fluid"> Onemile creek is small.</p>
<p>At that point I wasn’t sure what to do. Downstream of the turnout where I first parked, there was another bad looking forest road that went across the creek and into another drainage. The creek seems to be referred to as Sawmill Canyon and I wasn’t sure it was even fishable, but I had read that it held Yellowstone cutts. I was skeptical I could get my truck up the road so I rode my mountain bike up it, over a short hill, and then up the canyon. I picked an arbitrary point on the forest road (it was barely a road at this point) to take the quick hike down to the creek. Sawmill Canyon was even smaller than Onemile and was very brushy.</p>
<p>It seemed futile as I started fishing but pretty quickly thought I had some fish hitting my dry fly that I let sink in some of the holes. I wasn’t entirely sure they were bites, but it did give me motivation to keep fishing. Within less than an hour, I caught a small Yellowstone cutt out of Sawmill. I caught a few more, all smaller than 6 inches. The fishing isn’t easy, but there seem to be more fish than in Onemile, and I think it gets less pressure. It wasn’t all that hard to access either as the walk/bike-in was maybe a mile or mile and a half.</p>
<p><img src="fishing_pics/sawmill.JPG" class="img-fluid"> Sawmill Canyon is small and brushy.</p>
<p>There is a nice forest service campground nearby on Clear Creek, along with lots of dispersed camping. We were going to try and summit Bull Moutain the next day (highest point in the Raft River Range), but it started thunderstorming early in the morning so we left and drove back to Cache Valley. Clear Creek is quite fun to fish as there are a ton of fish that looked like cutts, but I think they are Inland Redband trout, as they are missing the orange slash under the jaw and have a pink lateral stripe. The DWR’s website does not mention Clear Creek as a possible water in which to find Yellowstones.</p>
<p><img src="fishing_pics/clearcreek.JPG" class="img-fluid"> Trout from Clear Creek. I think these are Inland Redband trout.</p>
</section>
<section id="colorado-river-cutthroatboulder-mountain" class="level4">
<h4 class="anchored" data-anchor-id="colorado-river-cutthroatboulder-mountain">Colorado River Cutthroat–Boulder Mountain</h4>
<p>Living in Cache Valley is an advantage for reaching the Bear River and Yellowstone cutts (the Raft River is less than a two hour drive), but it is a decided disadvantage for the next fish I attempted to catch, the Colorado River cutt. In general, the Colorado River cutt is probably slightly easier to catch than the Yellowstone, but the geography of its native waters make it a long trip from Cache Valley. I had a hiking and sightseeing trip planned to the Capitol Reef area, so I did research on streams near the park entrance that might hold Colorado River cutts. When we visit Capitol Reef we like to stay at a nice forest service campground about a half hour from the park entrance. The DWR website lists Pine Creek as a nearby option so I started there with really no other plan if it didn’t work. Pine Creek flows off the northwest side of Boulder Mountain, but access is at a low enough elevation that isn’t too far of a drive from Bicknell.</p>
<p><img src="fishing_pics/pine_creek2.JPG" class="img-fluid"> Pine Creek, near Bicknell, UT.</p>
<p>I could find almost no information on the fishing aside from a single mention on the Utah Slam website so I had no idea what the road condition was, how big the creek was, or where to fish. The road turned out to be a good forest service road that I drove up until I found a spot to pull over and walk to the creek. Where I parked, the road isn’t alongside the creek so you can’t see the water until you get closer. Surprise, surprise, Pine Creek is tiny with what I would characterize as “moderate” brush (a running theme for Utah fly fishing). But, on walking up to the creek, I could see fish!</p>
<p>Despite the look of the creek, it was relatively easy fishing; I walked upstream, found a brush-free spot, made a cast with a dry fly, and usually hooked a small fish. I caught a few quickly and had a nice time working my way upstream. I had plans to leave and fish the Fremont which is supposed to hold larger brown trout but as I was packing up after fishing Pine Creek, I stepped on my rod and broke it. I didn’t realize this until I drove to the Fremont, made a cast, and the top of my rod flew off. That was something like the third time I’d broken a rod, and there would be (and will be) more.</p>
</section>
<section id="bonneville-cutthroatsalt-lake-city-area" class="level4">
<h4 class="anchored" data-anchor-id="bonneville-cutthroatsalt-lake-city-area">Bonneville Cutthroat–Salt Lake City Area</h4>
<p>I left the Bonneville for last as I assumed it would be the easiest. I am in Salt Lake City often enough that I thought I’d just catch it quickly when in the area. Unfortunately, by the end of the summer, I just hadn’t gotten around to it. After an airport run, I thought I’d go to one the creeks that flows out of the Wasatch into the valley. The closest creek to the airport I could find was Mill Creek, which is right above the City and holds Bonnies according to the DWR website. I’d never been up there so I had no idea what the fishing was like.</p>
<p>It turns out Mill Creek Canyon is a very popular place to recreate on a Sunday afternoon. Not only was it crowded, you have to pay to visit in the canyon on the way out, which seems very odd. I fought traffic, found a place to park on the road, and walked down to the creek. This was late September and I was surprised to find a little snow on the ground because the sun doesn’t reach the creek in the fall or winter months. The shadows, combined with the warmish air temperature which caused the snow to melt and re-freeze, produced maximum slickness when wading.</p>
<p><img src="fishing_pics/mill_creek.JPG" class="img-fluid"> Mill Creek.</p>
<p>Also, unsurprisingly, Mill Creek is tiny and moderately brushy, and it looked just okay in terms of fishability. The low light in the canyon made it difficult to see my dry fly and for about the first hour, nothing happened. This was all very annoying because the Bonnie was supposed to be the easy one. I began thinking the DWR made a mistake and regretting my decision to fish Mill Creek. I finally hooked a fish, after a tough, cold wade. On the way out, I had to sit in traffic waiting to pay the fee. I completed the cutt slam in one year, but I feel comfortable saying that will be my last visit to Mill Canyon.</p>
<p>I probably should have gone to a larger, nicer river to catch the Bonnie and most anglers will drive from Salt Lake City to the north slope of the Uintas to catch the fish there, or fish the Ogden or Weber. All are good options; Mill Creek has the advantage of being twenty minutes from SLC, but the experience is not what we think of in terms of western trout fishing.</p>
</section>
<section id="summary" class="level4">
<h4 class="anchored" data-anchor-id="summary">Summary</h4>
<p>Relative to the other state slams I’ve done or attempted, Utah was the easiest, and is a good starter slam. It helps that it only requires catching four fish. The driving distances are shorter than Wyoming or California, and the fishing is pretty easy with the exception of the Yellowstone Cutt. The Bear River and Bonneville should, more or less, be gimmes, with the Colorado River somewhat tougher (though I got lucky Pine Creek was a good spot for me). Catching the Yellowstone out of Sawmill Canyon felt like a miracle, especially after having zero success in Onemile. There are other creeks listed on the DWR website that hold Yellowstones, but my impression is that they require significantly more effort to reach, or flow mostly through private land. I had a hard time figuring out access points. If I were going back, I would give myself some backup options if neither Onemile nor Sawmill worked. The most obvious seems to be Johnson Creek, which I’ve read recently is a good option, and there have been reports of anglers catching large Yellowstones from that water. It is farther from Clear Creek Campground however, and I don’t know what access is like.</p>
<p>One additional note on Utah’s slam. Unlike every other state slam, completing the Utah slam is not free; it requires paying a fee of $20. The money is used to fund conservation projects for fish, and Utah DNR trumpets the projects they’ve completed with the money. I have mixed feelings about charging. I worry the fee will exclude or dissuade people who would otherwise complete the challenge, but raising money for conservation projects is undoubtedly beneficial. If we’re honest about the socio-economic status of most people who are fly fishing, I doubt the $20 is making much of a difference in whether someone decides to complete the slam. On balance then, it seems like a good idea, and other states should probably implement a similar fee.</p>
<p><a href="./fishing_landing.html">Back to Main Page</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>